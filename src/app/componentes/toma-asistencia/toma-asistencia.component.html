<!-- asistencias.component.html -->
<mat-toolbar style="background-color: #2f4053; color: white;">
  <span class="toolbar-title">
    <mat-icon>assignment</mat-icon>
    <span style="margin-left: 8px;">Toma Asistencia</span>
  </span>
  <span class="toolbar-spacer"></span>
  <button mat-button>
    <mat-icon>login</mat-icon>
    <span style="margin-left: 4px;">Iniciar Sesión</span>
  </button>
</mat-toolbar>

<div class="container mt-4">
  <div class="row" style="background-color: transparent;">
    <div class="col-6">
      <div class="card responsive-card">
        <div class="card-header">
          <h5 class="card-title"></h5>
        </div>
        <div class="card-body">
          <h1>Tomar Asistencia</h1>

          
          <div [formGroup]="tomarasistenciaForm">

            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Tomar asistencia por INE</mat-label>
              <input type="text"
                     placeholder="Busque empleado  nombre - apellido - ine"
                     aria-label="Empleado"
                     matInput
                     formControlName="campoBusqueda"
                     [matAutocomplete]="auto"
                     (input)="buscarEmpleado($event)">
              <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                <mat-option *ngFor="let empleado of sugerencias" [value]="empleado" (click)="seleccionarSugerencia(empleado)">
                  {{ empleado.nombres }} - {{ empleado.apellidos }} ({{ empleado.ine }})
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>

          <div class="scanner-container">
            <ngx-scanner-qrcode #action="scanner" [config]="config" (event)="onEvent($event, action)" class="scanner"></ngx-scanner-qrcode>
            <p *ngIf="action.isLoading">⌛ Loading...</p>
          </div>
          <br>
      
          <div class="row">
            <div class="col-12">
              <select #select1 (change)="action.playDevice(select1.value)" class="form-select form-select-md">
                <option [value]="null" selected>Ninguna</option>
                <option *ngFor="let c of action.devices.value; let i = index" [value]="c.deviceId" [selected]="i == action.deviceIndexActive">{{c.label}}</option>
              </select>
            </div>
          </div>
          <br>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="card responsive-card">
        <div class="card-header">
          <h5 class="card-title">Escáner 2</h5>
        </div>
        <div class="card-body">
          <h1>ngx-scanner-qrcode</h1>



        </div>
      </div>
    </div>
  </div>
</div>
